{"version":3,"sources":["assets/scripts/background.js"],"names":["cc","Class","Component","properties","bg1","Node","bg2","setEnabled","enabled","setDisabled","node","stopAllActions","onLoad","triggerY","height","speed","start","update","dt","y"],"mappings":";;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;AACP,aAASD,EAAE,CAACE,SADL;AAGPC,EAAAA,UAAU,EAAE;AACVC,IAAAA,GAAG,EAAEJ,EAAE,CAACK,IADE;AAEVC,IAAAA,GAAG,EAAEN,EAAE,CAACK;AAFE,GAHL;AAQPE,EAAAA,UARO,wBAQM;AACX,SAAKC,OAAL,GAAe,IAAf;AACD,GAVM;AAYPC,EAAAA,WAZO,yBAYO;AACZ;AACA,SAAKD,OAAL,GAAe,KAAf,CAFY,CAGZ;;AACA,SAAKE,IAAL,CAAUC,cAAV;AACD,GAjBM;AAmBP;AAEAC,EAAAA,MArBO,oBAqBE;AACP;AACA,SAAKC,QAAL,GAAgB,CAAC,KAAKT,GAAL,CAASU,MAA1B;AACA,SAAKN,OAAL,GAAe,KAAf;AACA,SAAKO,KAAL,GAAa,GAAb;AACD,GA1BM;AA4BPC,EAAAA,KA5BO,mBA4BC,CAEP,CA9BM;AAgCPC,EAAAA,MAhCO,kBAgCAC,EAhCA,EAgCI;AACT;AACA,SAAKd,GAAL,CAASe,CAAT,IAAcD,EAAE,GAAG,KAAKH,KAAxB;AACA,SAAKT,GAAL,CAASa,CAAT,IAAcD,EAAE,GAAG,KAAKH,KAAxB,CAHS,CAKT;;AACA,QAAI,KAAKX,GAAL,CAASe,CAAT,IAAc,KAAKN,QAAvB,EACE,KAAKT,GAAL,CAASe,CAAT,GAAa,KAAKb,GAAL,CAASa,CAAT,GAAa,KAAKf,GAAL,CAASU,MAAnC,CADF,KAEK,IAAI,KAAKR,GAAL,CAASa,CAAT,IAAc,KAAKN,QAAvB,EACH,KAAKP,GAAL,CAASa,CAAT,GAAa,KAAKf,GAAL,CAASe,CAAT,GAAa,KAAKf,GAAL,CAASU,MAAnC;AAEH;AA3CM,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\n  extends: cc.Component,\n\n  properties: {\n    bg1: cc.Node,\n    bg2: cc.Node,\n  },\n\n  setEnabled() {\n    this.enabled = true;\n  },\n\n  setDisabled() {\n    // 停止 update 運行\n    this.enabled = false;\n    // 停止所有行為\n    this.node.stopAllActions();\n  },\n\n  // LIFE-CYCLE CALLBACKS:\n\n  onLoad() {\n    // 初始化背景重置的觸發座標\n    this.triggerY = -this.bg1.height;\n    this.enabled = false;\n    this.speed = 100;\n  },\n\n  start() {\n\n  },\n\n  update(dt) {\n    // 背景移动\n    this.bg1.y -= dt * this.speed;\n    this.bg2.y -= dt * this.speed;\n\n    // 重置\n    if (this.bg1.y <= this.triggerY)\n      this.bg1.y = this.bg2.y + this.bg1.height;\n    else if (this.bg2.y <= this.triggerY)\n      this.bg2.y = this.bg1.y + this.bg1.height;\n\n  },\n});"]}