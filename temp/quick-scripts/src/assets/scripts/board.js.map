{"version":3,"sources":["assets/scripts/board.js"],"names":["cc","Class","Component","properties","gridFrame","Node","tokens","SpriteFrame","meteorPreFab","Prefab","hoverClip","type","AudioClip","clickClip","isGridActived","row","col","gridBox","params","isActived","gridMouseEnterStyle","graphics","getComponent","Graphics","clear","fillColor","Color","fillRect","gridSize","enabled","gridMouseLeaveStyle","spawnGrid","node","addComponent","sprite","Sprite","meteor","status","x","y","width","height","parent","spawnBoard","lineWidth","strokeColor","WHITE","a","stroke","maxAnchor","anchor","moveTo","lineTo","colTemp","spawnMeteor","instantiate","meteorScript","checkRepeatLocation","getLocation","location","some","setPosition","origin","forEach","addChild","meteorBox","push","startHandler","sys","isMobile","on","EventType","TOUCH_START","touchStartHandler","TOUCH_MOVE","touchMoveHandler","TOUCH_END","touchEndHandler","MOUSE_MOVE","mouseMoveHandler","MOUSE_LEAVE","mouseLeaveHandler","MOUSE_DOWN","mouseDownHandler","overHandler","active","off","checkIsOver","isAllShootDown","every","isShootDown","getCurrentLocation","Math","min","parseInt","_startY","_startX","currentRow","currentCol","activeBomb","getActiveBomb","filter","r","c","event","locations","_prevLocations","posY","posX","prev","map","current","diff","str","indexOf","length","isNotActivedLocations","audioEngine","play","targetNode","isHit","anchorX","anchorY","sizeMode","spriteFrame","hitSpriteFrame","missSpriteFrame","setShootDown","changeGameStatusHandler","minusBombCountHandler","setMinusBombCountHandler","handler","setGetActiveBombHandler","setGameStatusHandler","onLoad","Array","fill","zIndex","_isLegalPosition","clone","setRect","rect","start","onDestroy"],"mappings":"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","sourceRoot":"/","sourcesContent":["cc.Class({\n  extends: cc.Component,\n\n  properties: {\n    gridFrame: cc.Node,\n    tokens: cc.SpriteFrame,\n    meteorPreFab: cc.Prefab,\n    hoverClip: {\n      default: null,\n      type: cc.AudioClip,\n    },\n    clickClip: {\n      default: null,\n      type: cc.AudioClip,\n    },\n  },\n\n  /* 目標節點是否點擊過 */\n  isGridActived(row, col) {\n    return this.gridBox[row][col].params.isActived\n  },\n\n  /* 網格hover樣式 */\n  gridMouseEnterStyle(row, col) {\n    let graphics = this.gridBox[row][col].getComponent(cc.Graphics)\n    graphics.clear()\n    graphics.fillColor = new cc.Color(255, 255, 255, 100)\n    graphics.fillRect(0, 0, this.gridSize, this.gridSize)\n    graphics.enabled = true\n  },\n\n  /* 清除網格hover樣式 */\n  gridMouseLeaveStyle(row, col) {\n    let graphics = this.gridBox[row][col].getComponent(cc.Graphics)\n    graphics.clear()\n    graphics.enabled = false\n  },\n\n  /* 繪製網格 */\n  spawnGrid(row, col) {\n    let node = new cc.Node(\"Grid\" + \"_\" + row + \"_\" + col)\n    /* hover 樣式 */\n    let graphics = node.addComponent(cc.Graphics)\n    graphics.enabled = false\n\n    /* images */\n    let sprite = node.addComponent(cc.Sprite)\n    sprite.enabled = false\n\n    /* 節點資訊 */\n    node.params = {\n      meteor: null,\n      isActived: false,\n      status: null,\n    }\n    node.x = col * this.gridSize\n    node.y = row * this.gridSize\n    node.width = node.height = this.gridSize\n    node.parent = this.gridFrame\n    return node\n  },\n\n  /* 繪製棋盤，將網格以二維陣列存放 */\n  spawnBoard() {\n    /* 格線 */\n    let graphics = this.gridFrame.addComponent(cc.Graphics)\n    graphics.lineWidth = 2\n    graphics.strokeColor = cc.Color.WHITE\n    graphics.strokeColor.a = 100\n    graphics.fillColor = new cc.Color(0, 0, 0, 0)\n    graphics.fillRect(0, 0, this.gridFrame.width, this.gridFrame.height)\n    graphics.stroke()\n\n    let maxAnchor = this.gridSize * 10\n    for (let row = 0; row < 10; row++) {\n      if (row > 0) {\n        let anchor = this.gridSize * row\n        graphics.moveTo(0, anchor)\n        graphics.lineTo(maxAnchor, anchor)\n        graphics.stroke()\n\n        graphics.moveTo(anchor, 0)\n        graphics.lineTo(anchor, maxAnchor)\n        graphics.stroke()\n      }\n\n      let colTemp = []\n      for (let col = 0; col < 10; col++) {\n        /* 網格 */\n        colTemp[col] = this.spawnGrid(row, col)\n      }\n      this.gridBox[row] = colTemp\n    }\n  },\n\n  spawnMeteor(type) {\n    let meteor = cc.instantiate(this.meteorPreFab)\n    let meteorScript = meteor.getComponent(\"meteor\")\n    meteorScript.spawnMeteor(type)\n\n    /* 檢查重疊 */\n    let checkRepeatLocation = () => {\n      meteorScript.getLocation()\n      if (\n        meteorScript.location.some(\n          ([row, col]) => this.gridBox[row][col].params.meteor\n        )\n      )\n        checkRepeatLocation()\n      return\n    }\n    checkRepeatLocation()\n\n    /* 隕石定位 */\n    meteorScript.setPosition(\n      meteorScript.origin.col * this.gridSize,\n      meteorScript.origin.row * this.gridSize\n    )\n    /* 更新變數 */\n    meteorScript.location.forEach(([row, col]) => {\n      this.gridBox[row][col].params.meteor = meteorScript\n    })\n    this.node.addChild(meteor)\n    this.meteorBox.push(meteor)\n  },\n\n  /* 給上層呼叫的啟動函式 */\n  startHandler() {\n    /* 繪製棋盤 */\n    this.spawnBoard()\n\n    /* 繪製隕石 */\n    this.spawnMeteor(\"A\")\n    this.spawnMeteor(\"B\")\n    this.spawnMeteor(\"C\")\n    this.spawnMeteor(\"D\")\n    this.spawnMeteor(\"E\")\n\n    /* 開始監聽 */\n    if (cc.sys.isMobile) {\n      this.node.on(cc.Node.EventType.TOUCH_START, this.touchStartHandler, this)\n      this.node.on(cc.Node.EventType.TOUCH_MOVE, this.touchMoveHandler, this)\n      this.node.on(cc.Node.EventType.TOUCH_END, this.touchEndHandler, this)\n    } else {\n      this.node.on(cc.Node.EventType.MOUSE_MOVE, this.mouseMoveHandler, this)\n      this.node.on(cc.Node.EventType.MOUSE_LEAVE, this.mouseLeaveHandler, this)\n      this.node.on(cc.Node.EventType.MOUSE_DOWN, this.mouseDownHandler, this)\n    }\n  },\n\n  overHandler() {\n    this.meteorBox.forEach((meteor) => (meteor.active = true))\n    if (cc.sys.isMobile) {\n      this.node.off(cc.Node.EventType.TOUCH_START, this.touchStartHandler, this)\n      this.node.off(cc.Node.EventType.TOUCH_MOVE, this.touchMoveHandler, this)\n      this.node.off(cc.Node.EventType.TOUCH_END, this.touchEndHandler, this)\n    } else {\n      this.node.off(cc.Node.EventType.MOUSE_MOVE, this.mouseMoveHandler, this)\n      this.node.off(cc.Node.EventType.MOUSE_LEAVE, this.mouseLeaveHandler, this)\n      this.node.off(cc.Node.EventType.MOUSE_DOWN, this.mouseDownHandler, this)\n    }\n  },\n\n  checkIsOver() {\n    let isAllShootDown = this.meteorBox.every((meteor) => {\n      let meteorScript = meteor.getComponent(\"meteor\")\n      return meteorScript.isShootDown\n    })\n    return isAllShootDown\n  },\n\n  /* 透過座標取得對應的行列（陣列索引） */\n  getCurrentLocation(y, x) {\n    let [currentRow, currentCol] = [\n      /* row */\n      Math.min(9, parseInt((y - this._startY) / this.gridSize)),\n      /* col */\n      Math.min(9, parseInt((x - this._startX) / this.gridSize)),\n    ]\n    let activeBomb = this.getActiveBomb()\n\n    switch (activeBomb) {\n      case 1:\n        return [[currentRow, currentCol]]\n      case 2:\n        return [\n          [currentRow + 1, currentCol - 1],\n          [currentRow + 1, currentCol + 1],\n          [currentRow, currentCol],\n          [currentRow - 1, currentCol - 1],\n          [currentRow - 1, currentCol + 1],\n        ].filter(([r, c]) => r <= 9 && c <= 9 && r >= 0 && c >= 0)\n      case 3:\n        return [\n          [currentRow + 1, currentCol - 1],\n          [currentRow + 1, currentCol],\n          [currentRow + 1, currentCol + 1],\n          [currentRow, currentCol - 1],\n          [currentRow, currentCol],\n          [currentRow, currentCol + 1],\n          [currentRow - 1, currentCol - 1],\n          [currentRow - 1, currentCol],\n          [currentRow - 1, currentCol + 1],\n        ].filter(([r, c]) => r <= 9 && c <= 9 && r >= 0 && c >= 0)\n    }\n  },\n\n  /* ============================================ */\n  /* event listeners */\n  /* ============================================ */\n  touchStartHandler(event) {\n    let { x, y } = event.getLocation()\n    let locations = this.getCurrentLocation(y, x)\n\n    /* 當前網格沒有狀態才渲染樣式 */\n    locations.forEach(([row, col]) => {\n      if (!this.isGridActived(row, col)) this.gridMouseEnterStyle(row, col)\n    })\n    /* 更新變數 */\n    this._prevLocations = locations\n    return false\n  },\n\n  touchMoveHandler(event) {\n    let { x, y } = event.getLocation()\n\n    let posY = y - this._startY,\n      posX = x - this._startX\n    /* 超出範圍視為leave */\n    if (\n      posY > this.node.height ||\n      posY < 0 ||\n      posX > this.node.width ||\n      posX < 0\n    ) {\n      this.mouseLeaveHandler(event)\n      return false\n    }\n\n    this.mouseMoveHandler(event)\n    return false\n  },\n\n  touchEndHandler(event) {\n    this.mouseDownHandler(event)\n    return false\n  },\n\n  mouseMoveHandler(event) {\n    let { x, y } = event.getLocation()\n    let locations = this.getCurrentLocation(y, x)\n\n    /* 處理前一個座標 */\n    let prev = this._prevLocations.map(([r, c]) => r + \"_\" + c)\n    let current = locations.map(([r, c]) => r + \"_\" + c)\n    let diff = current.filter((str) => prev.indexOf(str) === -1)\n    /* 有差集表示位置移動 */\n    if (diff.length > 0) {\n      /* 樣式還原 */\n      this._prevLocations.forEach(([row, col]) =>\n        this.gridMouseLeaveStyle(row, col)\n      )\n      /* 更新變數 */\n      this._prevLocations = locations\n\n      /* 當前網格沒有狀態才渲染樣式 */\n      let isNotActivedLocations = locations.filter(\n        ([row, col]) => !this.isGridActived(row, col)\n      )\n      /* 需要渲染網格 */\n      if (isNotActivedLocations.length > 0) {\n        /* 渲染網格 */\n        isNotActivedLocations.forEach(([row, col]) =>\n          this.gridMouseEnterStyle(row, col)\n        )\n        /* 播放音效 */\n        cc.audioEngine.play(this.hoverClip, false, 1)\n      }\n    }\n\n    return false\n  },\n\n  mouseLeaveHandler() {\n    this._prevLocations.forEach(([row, col]) => {\n      /* 網格已有狀態就不處理 */\n      if (!this.isGridActived(row, col)) this.gridMouseLeaveStyle(row, col)\n    })\n  },\n\n  mouseDownHandler(event) {\n    let { x, y } = event.getLocation()\n    let locations = this.getCurrentLocation(y, x)\n    /* 當前所有網格已有狀態就不處理 */\n    if (locations.every(([row, col]) => this.isGridActived(row, col)))\n      return false\n\n    /* 當前網格沒有狀態就將樣式還原 */\n    locations.forEach(([row, col]) => {\n      this.gridMouseLeaveStyle(row, col)\n      /* 目標節點 */\n      let targetNode = this.gridBox[row][col]\n      let meteorScript = targetNode.params.meteor\n      /* 點擊的目標有船表示擊中 */\n      let isHit = meteorScript !== null\n      /* 拿節點中的精靈 */\n      let sprite = targetNode.getComponent(cc.Sprite)\n      /* 變更渲染起始點 */\n      sprite.node.anchorX = sprite.node.anchorY = 0\n      /* 選染模式 */\n      sprite.sizeMode = 0\n      /* 擊中與未擊中的樣式 */\n      sprite.spriteFrame = isHit ? this.hitSpriteFrame : this.missSpriteFrame\n      /* 顯示精靈 */\n      sprite.enabled = true\n      /* 更新目標節點狀態 */\n      targetNode.params.isActived = true\n      targetNode.params.status = isHit ? \"hit\" : \"miss\"\n      /* 目標是否擊沉 */\n      if (\n        isHit &&\n        !meteorScript.location.some(\n          ([row, col]) => !this.gridBox[row][col].params.isActived\n        )\n      ) {\n        meteorScript.setShootDown()\n        this.meteorBox.forEach((meteor) => {\n          let meteorScript = meteor.getComponent(\"meteor\")\n          if (meteorScript.isShootDown) {\n            meteor.active = true\n          }\n        })\n      }\n    })\n    /* 播放音效 */\n    cc.audioEngine.play(this.clickClip, false, 0.3)\n\n    /* 檢查遊戲結束 */\n    if (this.checkIsOver()) this.changeGameStatusHandler(\"win\")\n\n    /* 更新炸彈數量 */\n    this.minusBombCountHandler()\n    return false\n  },\n\n  setMinusBombCountHandler(handler) {\n    this.minusBombCountHandler = handler\n  },\n\n  setGetActiveBombHandler(handler) {\n    this.getActiveBomb = handler\n  },\n\n  setGameStatusHandler(handler) {\n    this.changeGameStatusHandler = handler\n  },\n  // LIFE-CYCLE CALLBACKS:\n\n  onLoad() {\n    this.gridSize = 50\n    this.node.width = this.node.height = 500\n    /* 網格容器 */\n    this.gridBox = new Array(10).fill(new Array(10).fill(null))\n    /* 戰艦容器 */\n    this.meteorBox = []\n    /* 調整節點順序 */\n    this.gridFrame.zIndex = 2\n    this.meteorPreFab.zIndex = 1\n\n    /* 計算座標用的 private variable */\n    this._startX = 70\n    this._startY = 230\n    this._prevLocations = []\n    this._isLegalPosition = false\n\n    /* 初始化上層參數 */\n    this.getActiveBomb = () => -1\n    this.minusBombCountHandler = () => false\n    this.changeGameStatusHandler = () => null\n\n    /* 打擊狀態 */\n    this.missSpriteFrame = this.tokens.clone()\n    this.missSpriteFrame.setRect(new cc.rect(32, 0, 32, 32))\n    this.hitSpriteFrame = this.tokens.clone()\n    this.hitSpriteFrame.setRect(new cc.rect(64, 0, 32, 32))\n  },\n\n  start() {},\n\n  onDestroy() {\n    if (cc.sys.isMobile) {\n      this.node.off(cc.Node.EventType.TOUCH_START, this.touchStartHandler, this)\n      this.node.off(cc.Node.EventType.TOUCH_MOVE, this.touchMoveHandler, this)\n      this.node.off(cc.Node.EventType.TOUCH_END, this.touchEndHandler, this)\n    } else {\n      this.node.off(cc.Node.EventType.MOUSE_MOVE, this.mouseMoveHandler, this)\n      this.node.off(cc.Node.EventType.MOUSE_LEAVE, this.mouseLeaveHandler, this)\n      this.node.off(cc.Node.EventType.MOUSE_DOWN, this.mouseDownHandler, this)\n    }\n  },\n\n  // update (dt) {},\n})\n"]}